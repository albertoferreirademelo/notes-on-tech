---
import Layout from '../layouts/Layout.astro';
import SiteHeader from '../components/SiteHeader.astro';
import SiteFooter from '../components/SiteFooter.astro';
import PostCard from '../components/PostCard.astro';
import { getCollection } from 'astro:content';

const posts = (await getCollection('posts')).sort((a, b) => b.data.pubDate.getTime() - a.data.pubDate.getTime()).slice(0, 3);
---
<Layout title="Notes on Tech, AI, and Life in Sweden" description="A warm-tech journal exploring technology, artificial intelligence, and everyday life in Sweden.">
  <SiteHeader />
  <main>
    <section class="hero card">
      <p class="eyebrow">Welcome</p>
      <h1>Notes on tech, AI, and life in Sweden.</h1>
      <p class="intro">
        I’m Alberto Ferreira de Melo — curious technologist, thoughtful tinkerer, and mindful observer of life in Scandinavia.
        This is my warm corner of the internet where experiments, field notes, and stories come together.
      </p>
      <a class="cta" href="/blog">Read the latest notes →</a>
    </section>

    <section aria-labelledby="latest-posts">
      <div class="section-heading">
        <h2 id="latest-posts">Latest Posts</h2>
        <a href="/blog">Browse all</a>
      </div>
      <div class="grid">
        {posts.map((post) => (
          <PostCard post={post} />
        ))}
      </div>
    </section>
  </main>
  <SiteFooter />
</Layout>

<style>
  .hero {
    margin-top: 3.5rem;
    text-align: left;
    background: linear-gradient(135deg, rgba(255, 179, 71, 0.2), transparent 60%);
  }

  .eyebrow {
    text-transform: uppercase;
    letter-spacing: 0.2em;
    font-size: 0.75rem;
    color: var(--color-accent);
    margin: 0 0 1rem;
  }

  h1 {
    font-family: var(--font-serif);
    font-size: clamp(2.2rem, 5vw + 1rem, 3.6rem);
    margin: 0 0 1.5rem;
  }

  .intro {
    margin: 0 0 2rem;
    color: var(--color-text-muted);
    max-width: 45ch;
  }

  .cta {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    padding: 0.85rem 1.65rem;
    border-radius: 999px;
    background: var(--color-accent);
    color: #1b1b1b;
    font-weight: 600;
    transition: transform var(--transition), box-shadow var(--transition);
  }

  .cta:hover,
  .cta:focus-visible {
    transform: translateY(-2px);
    box-shadow: 0 18px 36px rgba(255, 179, 71, 0.32);
  }

  .section-heading {
    display: flex;
    align-items: baseline;
    justify-content: space-between;
    gap: 1rem;
    margin-bottom: 1.5rem;
  }

  h2 {
    margin: 0;
    font-family: var(--font-serif);
    font-size: clamp(1.8rem, 3vw + 1rem, 2.4rem);
  }

  .grid {
    display: grid;
    gap: 1.5rem;
    grid-template-columns: repeat(auto-fit, minmax(18rem, 1fr));
  }
</style>
